<div class="sidebars">
    <div class="favourites {{sidebarCtrl.favouritesClass()}}" ng-controller="FavouritesCtrl as favouritesCtrl"
        ng-click="sidebarCtrl.favouritesClick()" ng-class="{active: sidebarCtrl.isTearoutTarget}">
        <div class="sidetab-top">
            <img src="assets/png/favourites_tab.png" class="top-icon" title="Favourites List" draggable="false" />
        </div>
        <div id="favourite-scroll" class="side-scroll custom-scrollbar">
            <div class="sidetab" ng-show="sidebarCtrl.showFavourites()">
                <div class="no-favourites connectionError" ng-show="favouritesCtrl.errors.length > 0">
                    <p class="connectionError">An error occured while retrieving data, please try again later</p>
                    <div ng-repeat="error in favouritesCtrl.errors">
                        <div class="errorCode">Code: {{error.code}}</div>
                        <div class="errorMessage">Message: {{error.message}}</div>
                        <div class="errorMessage">Occurences: {{error.occurences}}</div>
                    </div>
                </div>
                <div class="no-favourites" ng-show="favouritesCtrl.noFavourites() && favouritesCtrl.receivedFirstQuandlResponse">
                    <p>You have no favourites to display.</p>
                    <p>Use the search tab to add new stocks to the list.</p>
                </div>
                <div class="no-favourites" ng-hide="favouritesCtrl.receivedFirstQuandlResponse">
                    <p>Loading favourite stocks...</p>
                </div>
                <div ng-repeat="stock in favouritesCtrl.stocks | orderBy: 'index'">
                    <favourite selection="favouritesCtrl.selection()" select="favouritesCtrl.select(stock)"
                               single-click="favouritesCtrl.singleClick(stock)" double-click="favouritesCtrl.doubleClick(stock)"
                               single="favouritesCtrl.single()" stock="stock" icon="favouritesCtrl.icon(stock)">
                    </favourite>
                </div>
            </div>
        </div>
    </div>
    <div class="closed-window-selection">
        <closed-window-list icon="'closed_tabs'"></closed-window-list>
    </div>
    <search class="search main-search {{sidebarCtrl.searchClass()}}" ng-click="sidebarCtrl.searchClick()"></search>
    <search class="search compact-search {{sidebarCtrl.searchClass()}}" ng-click="sidebarCtrl.searchClick()"></search>
</div>
